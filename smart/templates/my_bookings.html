{% extends 'master.html' %}
{% load static %}
{% block title %}My Bookings{% endblock %}
{% block content %}
<div id='mypage'>
<center>
    {% if messages %}
  <div class="messages">
    {% for message in messages %}
      <p{% if message.tags %} class="{{ message.tags }}"{% endif %} style="text-align:center;color:green;">{{ message }}</p>
    {% endfor %}
  </div>
{% endif %}
   
{% if data %}   
<div id="bookings">
    <table>
        <thead>
        <tr><th>Booked On</th><th>Booked For</th><th>Event</th><th>Theme</th><th>Cradle</th><th>Cake</th><th>Decoration</th><th>Entertainment</th><th>Balloons</th><th>Address</th><th>Status</th></tr>
        </thead>
        <tbody>
        {% for d in data%}
    <tr>
        <td>{{d.booked_on}}</td><td>{{d.date}}</td><td>{{d.form_name}}</td>
        <td><img src="{{d.theme}}"></td>
        <td><img src="{{d.cradle}}"></td>
        <td><img src="{{d.cake}}"></td>
        <td><img src="{{d.decoration}}"></td>
        <td><img src="{{d.entertainment}}"></td>
        <td><img src="{{d.balloons}}"></td>
        <td>{{d.location}}</td><td>{{d.status}}</td>
        <td> <a href="/my_bookings/{{d.id}}">Cancel</a></td>
    </tr>
        {% endfor %}
        </tbody>
      </table>
</div>

{%else%}
<script>
    window.onload = function () {
      alert('No Booking is done by {{email}}');  // Display the alert box
    };
  </script>
{%endif%}
</div>
<style>
    #mypage{
        min-height:350px;
        width:100%;
    }
    table{
        background:white;
        padding:5px;
        border-radius:8px;
        padding:20px;  
    }
    td{
        padding:10px;
        border-radius:8px;
        object-fir:contain;
        width:100px;
        max-height:100px;
        
    }
    td>img{
        width:100%;
        height:100%;
        border-radius:8px;
    }
    tr{
       width:100%;
       border: .5px solid black;
    }
    td>a{
      align-items:center;
      place-content:center;
      position:relative;  width:50px; 
      text-decoration:none; 
      background:tomato;
      color:white;  
      padding:5px;
      border-radius:12px; 
    }
    tbody:nth-child(2n+1){
      background:gray;
    })
</style>

{% endblock  %}